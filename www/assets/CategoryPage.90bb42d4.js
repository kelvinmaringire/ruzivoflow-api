import{aJ as x,m as f,z as b,o as k,c as t,d as m,w as i,f as n,g as l,ac as r,e as c,y as B,ah as y,Q as _,j as w,ad as u,h as v,ae as C,af as q}from"./index.7d370b68.js";import{u as Q,a as P,Q as z}from"./TagList.c47b4c44.js";import{Q as N}from"./QChip.73d90e1c.js";import{Q as S}from"./QPage.33970ec2.js";import{P as V}from"./PostCard.65b5f721.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.bb072c3f.js";import"./position-engine.0d968b18.js";import"./selection.af76a41f.js";import"./QImg.c1878d72.js";const I={class:"container q-mx-auto",style:{"max-width":"1200px"}},M={key:0,class:"flex flex-center q-pa-xl"},$={key:2},j={class:"q-mb-xl text-center"},D={class:"text-h3 q-mb-md"},E={key:1,class:"text-body1 text-grey-7"},F={key:2,class:"text-body1 text-grey-7"},G={key:0,class:"row q-col-gutter-md"},J={key:1,class:"text-center q-pa-xl"},L={__name:"CategoryPage",setup(T){const d=x(),a=Q(),e=f(()=>{const o=d.params.slug;return a.categories.find(s=>s.slug===o)||null});P(()=>{var o,s;return{title:e.value?`${e.value.name} | Blog | Ruzivoflow`:"Category | Blog | Ruzivoflow",meta:{description:{name:"description",content:(o=e.value)!=null&&o.description?e.value.description.substring(0,160):`Browse posts in ${((s=e.value)==null?void 0:s.name)||"this category"}`}}}});const g=async()=>{const{slug:o}=d.params;if(o)try{await a.fetchPostsByCategory(o)}catch{}},h=async()=>{try{await a.fetchCategories()}catch{}};return b(()=>d.params.slug,()=>{g()}),k(()=>{h(),g()}),(o,s)=>(t(),m(S,{class:"q-pa-md"},{default:i(()=>[n("div",I,[l(a).loading&&!l(a).posts.length?(t(),r("div",M,[c(B,{color:"primary",size:"3em"})])):l(a).error?(t(),m(z,{key:1,class:"bg-negative text-white q-mb-md",rounded:""},{avatar:i(()=>[c(y,{name:"error"})]),action:i(()=>[c(_,{flat:"",label:"Go Back",to:{name:"blog-index"}})]),default:i(()=>[w(" "+u(l(a).error)+" ",1)]),_:1})):(t(),r("div",$,[n("div",j,[e.value?(t(),m(N,{key:0,label:e.value.name,size:"lg",color:"primary","text-color":"white",icon:"category",class:"q-mb-md"},null,8,["label"])):v("",!0),n("h1",D,u(e.value?e.value.name:"Category"),1),e.value&&e.value.description?(t(),r("p",E,u(e.value.description),1)):e.value?(t(),r("p",F," Posts in this category ")):v("",!0)]),l(a).posts.length>0?(t(),r("div",G,[(t(!0),r(C,null,q(l(a).posts,p=>(t(),r("div",{key:p.id,class:"col-12 col-md-6 col-lg-4"},[c(V,{post:p},null,8,["post"])]))),128))])):(t(),r("div",J,[c(y,{name:"article",size:"4em",color:"grey-5"}),s[0]||(s[0]=n("div",{class:"text-h6 q-mt-md text-grey-7"},"No posts in this category",-1)),c(_,{outline:"",color:"primary",label:"Back to Blog",to:{name:"blog-index"},class:"q-mt-md"})]))]))])]),_:1}))}};var te=R(L,[["__scopeId","data-v-3b821b91"]]);export{te as default};
