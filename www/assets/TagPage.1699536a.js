import{aJ as x,m as y,z as f,o as b,c as o,d as m,w as i,f as n,g as r,ac as l,e as c,y as w,ah as _,Q as h,j as B,ad as g,h as k,ae as q,af as Q}from"./index.f1898ad9.js";import{u as P,a as T,Q as z}from"./TagList.b5638c8d.js";import{Q as N}from"./QChip.fa8cee22.js";import{Q as S}from"./QPage.64c283f1.js";import{P as C}from"./PostCard.728e9b4c.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.8873d7ee.js";import"./position-engine.abb9acd9.js";import"./selection.7916efc8.js";import"./QImg.42b04567.js";const F={class:"container q-mx-auto",style:{"max-width":"1200px"}},R={key:0,class:"flex flex-center q-pa-xl"},I={key:2},M={class:"q-mb-xl text-center"},$={class:"text-h3 q-mb-md"},j={class:"text-body1 text-grey-7"},D={key:0,class:"row q-col-gutter-md"},E={key:1,class:"text-center q-pa-xl"},G={__name:"TagPage",setup(J){const d=x(),t=P(),a=y(()=>{const e=d.params.slug;return t.tags.find(s=>s.slug===e)||null});T(()=>{var e;return{title:a.value?`${a.value.name} | Blog | Ruzivoflow`:"Tag | Blog | Ruzivoflow",meta:{description:{name:"description",content:`Browse posts tagged with ${((e=a.value)==null?void 0:e.name)||"this tag"}`}}}});const u=async()=>{const{slug:e}=d.params;if(e)try{await t.fetchPostsByTag(e)}catch(s){console.error("Failed to load posts by tag:",s)}},v=async()=>{try{await t.fetchTags()}catch(e){console.error("Failed to load tags:",e)}};return f(()=>d.params.slug,()=>{u()}),b(()=>{v(),u()}),(e,s)=>(o(),m(S,{class:"q-pa-md"},{default:i(()=>[n("div",F,[r(t).loading&&!r(t).posts.length?(o(),l("div",R,[c(w,{color:"primary",size:"3em"})])):r(t).error?(o(),m(z,{key:1,class:"bg-negative text-white q-mb-md",rounded:""},{avatar:i(()=>[c(_,{name:"error"})]),action:i(()=>[c(h,{flat:"",label:"Go Back",to:{name:"blog-index"}})]),default:i(()=>[B(" "+g(r(t).error)+" ",1)]),_:1})):(o(),l("div",I,[n("div",M,[a.value?(o(),m(N,{key:0,label:a.value.name,size:"lg",color:"grey-7","text-color":"white",icon:"label",class:"q-mb-md"},null,8,["label"])):k("",!0),n("h1",$,g(a.value?a.value.name:"Tag"),1),n("p",j," Posts tagged with "+g(a.value?a.value.name:"this tag"),1)]),r(t).posts.length>0?(o(),l("div",D,[(o(!0),l(q,null,Q(r(t).posts,p=>(o(),l("div",{key:p.id,class:"col-12 col-md-6 col-lg-4"},[c(C,{post:p},null,8,["post"])]))),128))])):(o(),l("div",E,[c(_,{name:"article",size:"4em",color:"grey-5"}),s[0]||(s[0]=n("div",{class:"text-h6 q-mt-md text-grey-7"},"No posts with this tag",-1)),c(h,{outline:"",color:"primary",label:"Back to Blog",to:{name:"blog-index"},class:"q-mt-md"})]))]))])]),_:1}))}};var ee=V(G,[["__scopeId","data-v-5ac4cc76"]]);export{ee as default};
